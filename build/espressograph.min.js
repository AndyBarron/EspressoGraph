/*!
 *  EspressoGraph - v1.0.1
 *  github.com/AndyBarron/EspressoGraph
 *  Copyright (c) 2014, Andy Barron
 *  www.andybarron.net
 * 
 *  EspressoGraph is released under the MIT License.
 *  http://opensource.org/licenses/MIT
 */
(function(){"use strict";var a=this,b="EspressoGraph",c=function(a,b){return-1!==a.indexOf(b)},d=function(a){return null!==a&&"undefined"!=typeof a},e=function(a,b){return d(a)?a:b},f=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},g=function(a,b){if(b in a){var c=g(a,a[b]);return c.push(b),c}return[b]},h=function(){return 0},i=function(a){this._directed=e(a,!1),this._nodes=[],this._edges=[]};i.prototype={get nodes(){return this._nodes.slice()},get directed(){return this._directed},containsNode:function(a){return c(this._nodes,a)},addNode:function(a){if(!d(a))throw new Error("Graph.addNode: Null/undefined nodes not allowed");return this.containsNode(a)?!1:(this._nodes.push(a),this._edges.push({}),!0)},removeNode:function(a){var b=this._nodes.indexOf(a);if(-1===b)return!1;this._nodes.splice(b,1),this._edges.splice(b,1);for(var c in this._edges)b in this._edges[c]&&delete this._edges[c][b];for(var d=b;d<this._nodes.length;d++)for(var e=d+1,f=0;f<this._nodes.length;f++){var g=this._edges[f];e in g&&(g[d]=g[e],delete g[e])}return!0},addNodeArray:function(a){var b=[],c=this;return a.forEach(function(a,d){b[d]=c.addNode(a)}),b},addNodes:function(){var a=Array.prototype.slice.call(arguments);return this.addNodeArray(a)},containsEdge:function(a,b){return d(this.getEdge(a,b))},addEdge:function(a,b,c){var d=this._nodes.indexOf(a),f=this._nodes.indexOf(b);return-1===d||-1===f||this.containsEdge(a,b)||d===f?!1:(this._edges[d][f]=e(c,{}),!0)},getEdge:function(a,b){var c=this._nodes.indexOf(a),d=this._nodes.indexOf(b);return d in this._edges[c]?this._edges[c][d]:!this._directed&&c in this._edges[d]?this._edges[d][c]:null},getEdges:function(a){var b=this._nodes.indexOf(a);if(-1===b)return null;var c=[],d=this;return this._nodes.forEach(function(a,e){e in d._edges[b]?c.push(d._edges[b][e]):!d._directed&&b in d._edges[e]&&c.push(d._edges[e][b])}),c},removeEdge:function(a,b){var c=this._nodes.indexOf(a),d=this._nodes.indexOf(b);return-1===c||-1===d?!1:d in this._edges[c]?(delete this._edges[c][d],!0):!this._directed&&c in this._edges[d]?(delete this._edges[d][c],!0):!1},_getNeighborsIndex:function(a){if(-1===a)return null;var b=[],c=this;return this._nodes.forEach(function(d,e){(e in c._edges[a]||!c._directed&&a in c._edges[e])&&b.push(e)}),b},getNeighbors:function(a){var b=this._nodes.indexOf(a);if(-1===b)return null;var c=[],d=this;return this._nodes.forEach(function(a,e){(e in d._edges[b]||!d._directed&&b in d._edges[e])&&c.push(a)}),c},searchAStar:function(a,b,c,d){var f=this._nodes.indexOf(a),h=this._nodes.indexOf(b);if(-1===f||-1===h)return null;var i=e(d,this.getEdge).bind(this),j=c.bind(this),k={},l={};l[f]=!0;var m={},n={};n[f]=0;var o={};for(o[f]=n[f]+j(f,h);0!=Object.keys(l).length;){var p=Object.keys(l).sort(function(a,b){return o[a]-o[b]})[0];if(p==h){for(var q=g(m,p),r=this._nodes,s=[a],t=1;t<q.length;t++){var u=r[q[t-1]],v=r[q[t]];s.push(this.getEdge(u,v)),s.push(v)}var w=s.filter(function(a,b){return b%2==0}),x=s.filter(function(a,b){return b%2!=0});return{path:s,nodes:w,edges:x}}delete l[p],k[p]=!0;for(var y=this._getNeighborsIndex(p),t=0;t<y.length;t++){var z=y[t];if(!(z in k)){var A=n[p]+i(this._nodes[p],this._nodes[z]);(!(z in l)||A<n[z])&&(m[z]=p,n[z]=A,o[z]=n[z]+j(this._nodes[z],this._nodes[h]),z in l||(l[z]=!0))}}}return null},searchDijkstra:function(a,b,c){return this.searchAStar(a,b,h,c)}};var j={Graph:i},k="function"==typeof require&&"object"==typeof module&&"object"==typeof exports,l=!k&&"function"==typeof require&&"function"==typeof define;k?f(exports,j):l?define(j):a[b]=j}).call(this);
//# sourceMappingURL=espressograph.min.js.map